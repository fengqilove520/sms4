<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <title>Insert title here</title>
    <script src="jquery.min.js"></script>
    <script src="sms4.js"></script>
    <script type="text/javascript">
        /**
         * 测试 ECB 格式加密解密
         */
        function submitTest() {
            var s4 = new SM4Util();
            s4.iv = "UISwD9fW6cFh9SNS";
            var encryptData_ECB_String = s4.encryptData_ECB($("#test").val());
            $.ajax({
                url: "/test/test",
                type: "POST",
                headers: {"ajax": true},
                data: encryptData_ECB_String,
                contentType: "application/json;charset=UTF-8",
                dataType: "text",
                success: function (result) {
                    alert("密文：" + result);
                    alert("明文：" + s4.decryptData_ECB(result));
                },
                error: function () {
                    console.log("调用失败");
                }
            });
        }
    </script>
</head>
<body>

<input type="text" id="test" value="ssda撒了ii&$$^##)*&6223';.,[]"/>
<input type="button" onclick="submitTest()" value="提交"/>


</body>
</html>